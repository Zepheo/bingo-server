(this["webpackJsonpbingo-med-waddles"]=this["webpackJsonpbingo-med-waddles"]||[]).push([[0],{110:function(e,t,n){e.exports=n(154)},151:function(e,t){},154:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),c=n.n(o),i=n(11),u=n(37),l=n(14),m=n(186),s=n(189),d=Object(m.a)((function(e){return{wrapper:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"},button:{margin:10}}}));function f(){var e=d(),t=e.wrapper,n=e.button,r=Object(l.g)(),o=function(e){r.push(e)};return a.a.createElement("div",{className:t},a.a.createElement("h1",null,"V\xe4lkommen till Bingo"),a.a.createElement("div",null,a.a.createElement(s.a,{variant:"contained",color:"primary",className:n,onClick:function(){return o("create")}},"Create room"),a.a.createElement(s.a,{variant:"contained",color:"secondary",className:n,onClick:function(){return o("join")}},"Join room")))}var E=Object(m.a)({container:{display:"flex",alignItems:"center",justifyContent:"center",marginLeft:10,marginRight:10,width:"75vw"},bingo:{color:"gold",fontSize:200}});function p(){var e=E(),t=e.bingo,n=e.container;return a.a.createElement("div",{className:n},a.a.createElement("p",{className:t},"BINGO"))}var v=n(191),b=n(155),g=n(8),h=function(e){return{type:g.ADD_CARDS,cards:e}},O=function(e,t,n){return{type:g.LOG_IN,name:e,room:t,users:n}},k=function(e,t){return{event:e,handle:t}},y=function(e){return{event:e,leave:!0}},j=Object(m.a)({done:{backgroundColor:"green",color:"white"},notDone:{background:"rgba(255, 255, 255, 0.5)"},root:{display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center",height:"17vh",width:"17vh",fontFamily:"roboto",paddingLeft:5,paddingRight:5,fontSize:20,"&:hover":{cursor:"pointer"}},rootNoHover:{display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center",height:"100%",fontFamily:"roboto",paddingLeft:5,paddingRight:5,fontSize:20}});function S(e){var t=e.data,n=e.index,r=Object(i.c)((function(e){return e.User})).room.name,o=j(),c=o.done,u=o.notDone,l=o.root,m=o.rootNoHover,s=Object(i.b)(),d=function(e){s(function(e){return{type:g.SET_TICKED,id:e}}(e)),s(function(e){return{event:"usertick",emit:!0,payload:e}}({index:n,name:r,id:t.id}))};return t.free?a.a.createElement(v.a,{className:"".concat(m," ").concat(t.ticked?c:u),variant:"outlined"},a.a.createElement(b.a,null,t.data)):a.a.createElement(v.a,{className:"".concat(l," ").concat(t.ticked?c:u),variant:"outlined",onClick:function(){return d(t.id)}},a.a.createElement(b.a,null,t.data))}var w=n(192),D=n(193);function C(){var e=Object(i.c)((function(e){return e})),t=e.Bingo,n=e.User,o=Object(i.b)();return Object(r.useEffect)((function(){var e=[t.slice(0,5).map((function(e){return e.ticked})).every((function(e){return e})),t.slice(5,10).map((function(e){return e.ticked})).every((function(e){return e})),t.slice(10,15).map((function(e){return e.ticked})).every((function(e){return e})),t.slice(15,20).map((function(e){return e.ticked})).every((function(e){return e})),t.slice(20,25).map((function(e){return e.ticked})).every((function(e){return e}))],r=[[t[0].ticked,t[5].ticked,t[10].ticked,t[15].ticked,t[20].ticked].every((function(e){return e})),[t[1].ticked,t[6].ticked,t[11].ticked,t[16].ticked,t[21].ticked].every((function(e){return e})),[t[2].ticked,t[7].ticked,t[12].ticked,t[17].ticked,t[22].ticked].every((function(e){return e})),[t[3].ticked,t[8].ticked,t[13].ticked,t[18].ticked,t[23].ticked].every((function(e){return e})),[t[4].ticked,t[9].ticked,t[14].ticked,t[19].ticked,t[24].ticked].every((function(e){return e}))];([[t[0].ticked,t[6].ticked,t[12].ticked,t[18].ticked,t[24].ticked].every((function(e){return e})),[t[4].ticked,t[8].ticked,t[12].ticked,t[16].ticked,t[20].ticked].every((function(e){return e}))].some((function(e){return e}))||e.some((function(e){return e}))||r.some((function(e){return e})))&&(n.hasHadBingo||o({type:g.BINGO}))}),[t,n,o]),a.a.createElement(w.a,{cellHeight:"auto",cols:5,style:{marginLeft:10,marginRight:10,width:"90vh",height:"90vh"}},t.map((function(e,t){return a.a.createElement(D.a,{key:t},a.a.createElement(S,{data:e,index:t}))})))}var R=n(98),_=n.n(R),A=n(195),T=n(156),N=n(194),I=Object(m.a)((function(e){return{wrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between",padding:5}}}));function x(e){var t=e.user,n=t.name,r=t.ticked,o=I().wrapper;return a.a.createElement("div",{className:o},a.a.createElement(b.a,null,n),a.a.createElement(w.a,{spacing:2,cellHeight:10,cols:5,style:{width:58}},r.map((function(e,t){return a.a.createElement(D.a,{key:t},a.a.createElement("div",{style:{height:10,width:10,backgroundColor:e?"green":"red"}}))}))))}var B=Object(m.a)((function(e){return{container:{justifySelf:"flex-end",overflow:"hidden"},messageContainer:{height:"20vh",overflowY:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}}}));function G(){var e=B(),t=e.container,n=e.messageContainer,o=Object(i.c)((function(e){return e.Log})),c=Object(r.useRef)(null);return Object(r.useEffect)((function(){null!==c.current&&c.current.scrollIntoView({behavior:"smooth"})}),[o]),a.a.createElement("div",{className:t},a.a.createElement(N.a,null),a.a.createElement(A.a,{className:n},o.map((function(e,t){return a.a.createElement(T.a,{key:t},a.a.createElement(b.a,null,e))})),a.a.createElement("div",{ref:c})))}var U=Object(m.a)((function(e){return{container:{backgroundColor:"rgba(255, 255, 255, 0.8)",width:"20vw",display:"flex",flexDirection:"column"},header:{textAlign:"center"},hideScroll:{flex:1,height:"100%",overflow:"hidden"},userContainer:{height:"100%",overflowY:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}}}));function L(){var e=Object(i.c)((function(e){return e.User})).room.users,t=Object(i.b)(),n=U(),o=n.container,c=n.header,u=n.userContainer,l=n.hideScroll;return Object(r.useEffect)((function(){t(k("userJoined",(function(e){var n;t((n=e,{type:g.ADD_USERS,user:n}))}))),t(k("ticked",(function(e){var n,r=e.id,a=e.name,o=e.ticked,c=e.logMsg;t((n=c,{type:g.ADD_MESSAGE,message:n})),t(function(e){var t=e.id,n=e.ticked;return{type:g.UPDATE_TICKED,id:t,ticked:n}}({id:r,name:a,ticked:o}))})))}),[t]),a.a.createElement(v.a,{className:o},a.a.createElement(b.a,{variant:"h6",className:c},"SCOREBOARD"),a.a.createElement("div",{className:l},a.a.createElement(A.a,{className:u},e.map((function(t,n){return a.a.createElement(a.a.Fragment,{key:n},a.a.createElement(T.a,null,a.a.createElement(x,{user:t})),n<e.length-1&&a.a.createElement(N.a,null))})))),a.a.createElement(G,null))}var M=Object(m.a)((function(e){return{container:{display:"flex",height:"90%"},"@global":{body:{backgroundImage:"url(".concat(_.a,")"),backgroundSize:"cover"}}}}));function H(){var e=Object(i.c)((function(e){return e.User})),t=e.showBingo,n=e.hasHadBingo,r=e.room.name,o=Object(i.b)(),c=M().container;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:c},t?a.a.createElement(p,null):a.a.createElement(C,null),a.a.createElement(L,null)),t&&a.a.createElement(s.a,{variant:"contained",color:"primary",onClick:function(){o({type:g.SHOW_BOARD})}},"Show board"),n&&a.a.createElement(s.a,{variant:"contained",color:"secondary",onClick:function(){o({type:g.RESET}),o({type:g.RESET_BINGO}),o({event:"resetTicked",emit:!0,payload:r})}},"Play again"))}var z=n(12),W=n(25),F=n(44),K=n(207),J=n(198),P=n(199),V=n(200),q=n(206),Y=Object(m.a)((function(e){return{container:{flexDirection:"column",display:"flex"},checkboxContainer:{alignItems:"center",justifyContent:"center"},button:{margin:10}}}));function Z(e){e.createRoom;var t=Object(r.useState)({name:"",room:"",password:"",zones:[]}),n=Object(F.a)(t,2),o=n[0],c=n[1],u=Object(r.useState)({gotError:!1,message:""}),m=Object(F.a)(u,2),d=m[0],f=m[1],E=Y(),p=E.container,v=E.checkboxContainer,b=E.button,g=Object(l.g)(),j=Object(i.b)();Object(r.useEffect)((function(){return j(k("roomCreated",(function(e){j(h(e.cards)),j(O(e.name,e.room,e.users)),g.push("/bingo")}))),j(k("roomCreationError",(function(e){f({gotError:!0,message:e})}))),function(){j(y("roomCreated")),j(y("roomCreationError"))}}),[j,g]);return a.a.createElement("form",{id:"createRoomForm",action:".",onSubmit:function(e){return function(e){e.preventDefault(),j({event:"create",emit:!0,payload:o})}(e)},className:p},a.a.createElement(K.a,{required:!0,id:"username",value:o.name,placeholder:"Username...",variant:"outlined",onChange:function(e){return c(Object(z.a)({},o,{name:e.target.value}))},autoComplete:"off"}),a.a.createElement(K.a,{required:!0,id:"roomname",value:o.room,placeholder:"Roomname",variant:"outlined",onChange:function(e){return c(Object(z.a)({},o,{room:e.target.value}))},autoComplete:"off",error:d.gotError,helperText:d.message}),a.a.createElement(K.a,{id:"password",type:"password",helperText:"Leave blank for no password",value:o.password,placeholder:"Password...",variant:"outlined",onChange:function(e){return c(Object(z.a)({},o,{password:e.target.value}))},autoComplete:"off"}),a.a.createElement(J.a,{required:!0,component:"fieldset"},a.a.createElement(P.a,{className:v,onChange:function(e){return function(e){var t=Object(W.a)(o.zones);e.target.checked?t.push(e.target.name):t=t.filter((function(t){return t!==e.target.name})),c(Object(z.a)({},o,{zones:Object(W.a)(t)}))}(e)}},a.a.createElement(V.a,{control:a.a.createElement(q.a,{checked:o.zones.bwl,name:"bwl",color:"primary"}),label:"BWL"}),a.a.createElement(V.a,{control:a.a.createElement(q.a,{checked:o.zones.mc,name:"mc",color:"primary"}),label:"MC"}),a.a.createElement(V.a,{control:a.a.createElement(q.a,{checked:o.zones.zg,name:"zg",color:"primary"}),label:"ZG"}))),a.a.createElement(s.a,{type:"submit",variant:"contained",color:"primary",className:b},"Create Room"))}var $=n(209),Q=n(205),X=n(201),ee=Object(m.a)((function(e){return{container:{flexDirection:"column",display:"flex"},button:{margin:10}}}));function te(){var e=Object(r.useState)({name:"",room:"",password:""}),t=Object(F.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)({gotError:!1,message:""}),u=Object(F.a)(c,2),m=u[0],d=u[1],f=Object(i.c)((function(e){return e.User})),E=ee(),p=E.container,v=E.button,g=Object(l.g)(),j=Object(i.b)();Object(r.useEffect)((function(){return j(k("roomJoined",(function(e){j(h(e.cards)),j(O(e.name,e.room,e.users)),g.push("/bingo")}))),j(k("passwordError",(function(e){d({gotError:!0,message:e})}))),function(){j(y("roomJoined")),j(y("passwordError"))}}),[g,j]);return f.activeRooms.length<1?a.a.createElement(a.a.Fragment,null,a.a.createElement(b.a,{variant:"h6"},"No active rooms. Would you rather create a room?"),a.a.createElement(s.a,{variant:"contained",color:"primary",onClick:function(){return g.push("/create")}},"Go to create")):a.a.createElement("form",{id:"createRoomForm",action:".",onSubmit:function(e){return function(e){e.preventDefault(),j({event:"join",emit:!0,payload:{name:n.name,roomname:n.room.name,password:n.password}})}(e)},className:p},a.a.createElement(K.a,{required:!0,id:"username",value:n.name,placeholder:"Username...",variant:"outlined",onChange:function(e){return o(Object(z.a)({},n,{name:e.target.value}))},autoComplete:"off"}),a.a.createElement(J.a,{variant:"outlined",required:!0},a.a.createElement($.a,{id:"select-room-label"},"Room"),a.a.createElement(Q.a,{labelId:"select-room-label",id:"select-room",value:n.room,onChange:function(e){return o(Object(z.a)({},n,{room:e.target.value}))}},f.activeRooms.map((function(e,t){return a.a.createElement(X.a,{key:t,value:e},e.name)}))),n.room.password&&a.a.createElement(K.a,{id:"password",type:"password",label:"Leave blank for no password",value:n.password,placeholder:"Password...",variant:"outlined",onChange:function(e){return o(Object(z.a)({},n,{password:e.target.value}))},autoComplete:"off",error:m.gotError,helperText:m.message})),a.a.createElement(s.a,{type:"submit",variant:"contained",color:"primary",className:v},"Join room"))}var ne=n(61),re=function(e){var t=e.component,n=Object(ne.a)(e,["component"]),r=Object(i.c)((function(e){return e.User}));return a.a.createElement(l.b,Object.assign({},n,{render:function(e){return r.name?a.a.createElement(t,Object.assign({},n,e)):a.a.createElement(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))},ae=Object(m.a)((function(e){return{wrapper:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column",width:"100wv",height:"100vh"}}}));var oe=function(){var e=ae().wrapper,t=Object(i.b)();return Object(r.useEffect)((function(){return t(k("activeRooms",(function(e){var n;t((n=e,{type:g.ADD_ACTIVE_ROOMS,rooms:n}))}))),function(){t(y("activeRooms")),t({type:g.LOG_OUT})}}),[t]),a.a.createElement(u.a,null,a.a.createElement("div",{className:e},a.a.createElement(l.d,null,a.a.createElement(l.b,{exact:!0,path:"/",component:f}),a.a.createElement(l.b,{path:"/create",component:Z}),a.a.createElement(l.b,{path:"/join",component:te}),a.a.createElement(re,{path:"/bingo",component:H}))))},ce=n(27),ie=(n(120),n(99)),ue=n(100),le=n.n(ue)()({reconnection:!1}),me=function(e){return function(t){return function(n){if("function"===typeof n)return t(n);var r=n.event,a=n.leave,o=n.handle,c=n.emit,i=n.payload,u=Object(ne.a)(n,["event","leave","handle","emit","payload"]);if(!r)return t(n);if(a&&le.removeListener(r),!c){var l=o;return"string"===typeof l&&(l=function(t){return e.dispatch(Object(z.a)({type:o,result:t},u))}),le.on(r,l)}le.emit(r,i)}}};function se(e){for(var t=Object(W.a)(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=[t[r],t[n]];t[n]=a[0],t[r]=a[1]}return t}var de={data:"Free",ticked:!0,free:!0},fe=[],Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.ADD_CARDS:var n=se(t.cards);return n.splice(12,0,de),n;case g.SET_TICKED:return e.map((function(e){return e.id===t.id?Object(z.a)({},e,{ticked:!e.ticked}):e}));case g.RESET:e.splice(12,1);var r=se(e).map((function(e){return Object(z.a)({},e,{ticked:!1})}));return r.splice(12,0,de),r;default:return e}},pe={name:null,room:null,activeRooms:[],hasHadBingo:!1,showBingo:!1},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.LOG_IN:return Object(z.a)({},e,{name:t.name,room:{name:t.room,users:t.users}});case g.ADD_ACTIVE_ROOMS:return Object(z.a)({},e,{activeRooms:t.rooms});case g.ADD_USERS:return Object(z.a)({},e,{room:Object(z.a)({},e.room,{users:[].concat(Object(W.a)(e.room.users),[t.user])})});case g.UPDATE_TICKED:return Object(z.a)({},e,{room:Object(z.a)({},e.room,{users:e.room.users.map((function(e){return e.id===t.id?Object(z.a)({},e,{ticked:t.ticked}):e}))})});case g.BINGO:return Object(z.a)({},e,{hasHadBingo:!0,showBingo:!0});case g.SHOW_BOARD:return Object(z.a)({},e,{showBingo:!1});case g.RESET_BINGO:return Object(z.a)({},e,{showBingo:!1,hasHadBingo:!1});case g.LOG_OUT:return pe;default:return e}},be=n(8),ge=be.ADD_MESSAGE,he=be.RESET_MESSAGES,Oe=[],ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return[].concat(Object(W.a)(e),[t.message]);case he:return Oe;default:return e}},ye=Object(ce.combineReducers)({Bingo:Ee,User:ve,Log:ke}),je=Object(ce.createStore)(ye,Object(ce.applyMiddleware)(me,ie.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Se=n(203),we=n(204),De=n(101),Ce=n(202),Re=n(62),_e=Object(De.a)({palette:{primary:{main:Ce.a[500]},secondary:{main:Re.a[500]}},overrides:{MuiTextField:{root:{margin:10}}}});c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,{store:je},a.a.createElement(Se.a,{theme:_e},a.a.createElement(we.a,null),a.a.createElement(oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){"use strict";n.r(t),n.d(t,"ADD_CARDS",(function(){return r})),n.d(t,"SET_TICKED",(function(){return a})),n.d(t,"RESET",(function(){return o})),n.d(t,"LOG_IN",(function(){return c})),n.d(t,"LOG_OUT",(function(){return i})),n.d(t,"ADD_ACTIVE_ROOMS",(function(){return u})),n.d(t,"BINGO",(function(){return l})),n.d(t,"SHOW_BOARD",(function(){return m})),n.d(t,"RESET_BINGO",(function(){return s})),n.d(t,"ADD_USERS",(function(){return d})),n.d(t,"UPDATE_TICKED",(function(){return f})),n.d(t,"ADD_MESSAGE",(function(){return E})),n.d(t,"RESET_MESSAGES",(function(){return p}));var r="ADD_CARDS",a="SET_TICKED",o="RESET",c="LOG_IN",i="LOG_OUT",u="ADD_ACTIVE_ROOMS",l="BINGO",m="SHOW_BOARD",s="RESET_BINGO",d="ADD_USERS",f="UPDATE_TICKED",E="ADD_MESSAGE",p="RESET_MESSAGES"},98:function(e,t,n){e.exports=n.p+"static/media/GnomeHeader02-Header-110215.a33cdeec.jpg"}},[[110,1,2]]]);
//# sourceMappingURL=main.dfb355f5.chunk.js.map